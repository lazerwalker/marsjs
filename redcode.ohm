Program {

Program = Instruction+

Instruction 
 = label opcode operand ("," operand)? comment? -- label
 | opcode operand ("," operand)? comment? -- nolabel

label
    = word

opcode
    = "DAT"
    | "MOV"
    | "ADD"
    | "SUB"
    | "JMZ"
    | "JMN"
    | "JMP"
    | "DJN"
    | "CMP"
    | "SPL"
    | "SLT"

operand
    = addressingMode? operandValue

operandValue = number | label

addressingMode = "$" | "#" | "@" | "<"

comment = ";" (word | " ")*

word = symbol+

number = "-"? digit+

symbol
  = alnum | "_" | "." | "!" | "," | "'" | "{" | "}" | "?" | "-"
  
}